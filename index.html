<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>>GBIF Soundscape</title>

    <!-- Bootstrap -->
   <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
   <link rel="stylesheet" href="bower_components/leaflet/dist/leaflet.css">
   <link rel="stylesheet" href="css/style.css">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="">GBIF Soundscape</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
			
			<ul class="nav navbar-nav">
				<li><a href="http://untan.gl/gbif/sounds.html">About</a></li>
			</ul>
			<ul class="nav navbar-nav navbar-right">
				<li class="dropdown">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Choose an area <span class="caret"></span></a>
				<ul id="area_choose" class="dropdown-menu" role="menu">
				</ul>
</li>				
			</ul>
		
		</div>	
	  </div><!--/.nav-collapse -->
     </div>
    </nav>

    <div id="container" class="container-fluid">
	  <div id="toprow" class="row">
		<div id="info" class="col-md-6 col-xs-12 col-lg-6">
				<h1>Welcome to the GBIF Soundscape.</h1>
				<p>This is an entry in the <a href="http://gbif.challengepost.com/">2015 Ebbe Nielsen Challenge</a> by Ben Raymond and Peter Neish.</p>
				<p>Here you can listen to sounds sourced from GBIF records. Read more about this project <a href="http://untan.gl/gbif/sounds.html">here</a>.</p>
				<p class="lead">To get started, please choose a locality from the map or the drop-down list above.</p>
		</div>
		<div id="map" class="col-md-6 col-xs-12 col-lg-6"></div>
	  </div>
	  <div class="row">
		  <div id="sounds" class="col-md-12">
				<div id="controls">
				</div>
		  </div>
	  </div>
      <div id="mapb" class="col-md-12"></div>
      <div id="critterlist"></div>
    </div><!-- /.container -->
	
	<!-- the template for the soundControls -->
	<script id="taxon-template" type="text/x-handlebars-template">
	  <div class="col-md-2 col-sm-4 col-xs-12 item {{taxon}}">
		<div class="thumbnail">	
			{{#if image_src}}
				<img class="img-rounded" src="{{image_src}}" alt="{{name}}">
			{{else}}
				<p class="text-center"><span class="glyphicon glyphicon-lg glyphicon-remove"></span></p>
			{{/if}}
				<div class="caption">
					<p class="clearfix">
						<h4>{{vernacular}}</h4>
						<h5><em>{{name}}</em></h5>
					
						<audio controls loop>
						<source src="{{audio_src}}" type="audio/mpeg">
						Sorry your browser does not support this audio format
						</audio>
						<small>Source: 
							{{#if image_credit}} <a href="{{image_credit}}">image</a>{{/if}} 
							{{#if audio_credit}}<a href="{{audio_credit}}">audio</a>{{/if}}
						</small>
					</p>
				</div>
		</div>
	  </div>
	</script>
	
	<!-- and one for the infoBox -->
	<script id="info-template" type="text/x-handlebars-template">
	  <div class="infobox">
		<h1>{{title}}</h1>

				
			<button id="playall" type="button" class="play btn btn-primary">Play All <span class="badge">{{allnum}}</span></button>	
			<button id="playfrogs" type="button" class="play btn btn-success" {{#unless frognum}}disabled{{/unless}}><span class="icon-bird"></span>Play frogs <span class="badge">{{frognum}}</span></button>	
			
			<button id="playbirds" type="button" class="play btn btn-warning" {{#unless birdnum}}disabled{{/unless}}><span class="icon-bird"></span>Play birds <span class="badge">{{birdnum}}</span></button>		

			<button id="playrandom" type="button" class="play btn btn-primary "><span class="icon-bird"></span>Play random!</button>	
				 
				
			<div id="playcontrols" class="btn-group" role="group" aria-label="...">
			  <button id="playpause" type="button" class="btn btn-danger navbar-btn"><span class="glyphicon glyphicon-pause"></span>Pause</button>			 	  
			</div>  
				

	  </div>
	</script>
    
<!-- testing underscore template -->
<script id="critter-template" type="text/template">
      <div class="critter" id="critter<%=critter.cid%>">
        <h3> <%= critter.get('name') %>  </h3>
        <p>  <%= critter.get('vernacularName') %>   </p>
        <p>  <%= critter.get('audio') %>   </p>
        <p>  <%= critter.get('type') %>   </p>
      </div>
</script>

<!-- and one for the infoBox -->
<script id="cinfo-template" type="text/x-handlebars-template">
  <div class="cinfobox">
    <h1><%= title %></h1>
        
    <button id="cplayall" type="button" class="play btn btn-primary">Play All 
        <span class="badge"><%= allnum %></span>
    </button> 
    <button id="cplayfrogs" type="button" class="play btn btn-success" <%= typeof(frognum)!== 'undefined' ?  'disabled' : '' %> >
        <span class="icon-bird"></span>Play frogs <span class="badge"><%=frognum%></span>
    </button>  
    <button id="cplaybirds" type="button" class="play btn btn-warning" <%= typeof(birdnum)!== 'undefined' ? 'disabled' : '' %> >
        <span class="icon-bird"></span>Play birds <span class="badge"><%= birdnum %></span>
    </button>      
    <button id="cplayrandom" type="button" class="play btn btn-primary ">
        <span class="icon-bird"></span>Play random!
    </button>     
    <div id="cplaycontrols" class="btn-group" role="group" aria-label="...">
      <button id="cplaypause" type="button" class="btn btn-danger navbar-btn">
        <span class="glyphicon glyphicon-pause"></span>Pause
    </button>                
    </div>  
            
  </div>
</script>



    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="bower_components/handlebars/handlebars.min.js"></script>
    <script src="bower_components/leaflet/dist/leaflet.js"></script>
	<script src="bower_components/isotope/dist/isotope.pkgd.js"></script>
	<script src="bower_components/underscore/underscore.js"></script>
	<script src="bower_components/backbone/backbone.js"></script>
    <script src="bower_components/wavesurfer.js/dist/wavesurfer.min.js"></script>

    <script src="js/app.js"></script>
  </body>
</html>
